## SkyWalker
- 从私募离职后好久没更新过这个项目了，想着先把README更新一下，规划之后这个项目需要做些什么。
这个项目其实是为了证券私募结算服务而来的，在私募工作时也是一直从事私募结算开发方面的工作。
一直没有什么较好的进展，由于也确实人手不足，仅有两个人，最后也无奈只能交给三方服务来做，选择离开。
但是这个项目一直很不甘心，在私募的时候就和老板说这这个项目一定能做成的，我们一定要做出来，现在想想满是唏嘘。
可是还是不想放弃，想着开发一套专门为了证券私募结算方便的应用出来，至此。

#### 之后还需要做些什么
- 离职私募以后就只写了一些工具封装，距离应用还有很长的一段路需要去走，目前市面上也并没有这样一套符合
证券私募结算的服务，尤其针对高频交易，账户层面的数据处理、分析工具。目前主流的私募服务都是一些公开
数据服务（恒生、朝阳永续这些）以及产品层面数据（比如估值表）的服务，针对私募内部的交易账户完全没有可循
资源，可能有人在做但都是闭门造车。
  
- 这个项目本身也是针对国内的证券私募来做的，英文说明文档什么的也不会有了一般，总不能老外跑来🇨🇳做结算开发吧。之前
整了一堆 en doc，想想也是脱裤子放屁，毛用没有。

- 列个简式清单后续要做些什么：
  - [x] AirFlow/Luigi/Flink/Spark,  
        数据处理的技术选型还得仔细思考清楚，AirFlow相对Luigi来说对于小私募估计维护成本比较高, 个人并不喜欢AirFlow这东西，尽管他很强;   
        Flink流式处理很喜欢这种方案, 但之前被一句杀鸡焉用宰牛刀给否定了, 后续再学习多一点再确定flink是否是个好选择; 
        由于数据处理量级过大, spark至少应该做到支持;
  - [x] 对账单、估值表excel/txt/csv/pdf基础数据解析工具; 针对不同的券商托管做基础封装,主要针对招商/海通这两类比较典型的、文件
        数据种类又比较多的;
  - [x] DB上, 预估平均单账户5w交易数据/天, 240交易日/年, 一年单账户就0.12B, OLAP考虑采用ClickHouse, 简单易用;  
        MySQL/sqlite在结算网站建设上将会被采用;   
        文件存储管理考虑采用MinIO, ceph看来是最佳选型但实在太过于庞大, 当然也会考虑采用Nas这类磁盘管理类;  
        多应用服务之间联动, 由于对kafka/RQM不大了解, 暂时选定redis作为中间件, 估计铁定得改选前者;  
  - [x] 公开数据的对接，目前主要是针对 TuShare 的平台免费数据，暂时只做了基本的交易日数据封装了一些日期工具。  
        后续需要对接一些公开的市场数据, 例如指数数据，用这些数据做部分简单的分析比对工具。也可能会考虑用些新闻数据
        做点舆情分析（这个大概率不会做, 视情况来定）。至于其他的数据源，暂时没想好，恒生/朝阳永续这些数据价格实在是折腾不起;
  - [x] 前端Vue2.0+ElementUI+Axios;后端FastAPI+MySQL/sqlite, 用于结算事务处理以及部门协调;

- 先写这些吧，都是一些大体需要做的东西，要展开说开一星期会都说不清楚，这方面也没有公开产品，还有很多是经验之谈，就先这样吧;
  整个规划下来一个人实在是难以推进。

#### 环境变量
  - `X2.XDB.sql.connections.LocalStorage` (SQLite DB)默认位置 `$HOME/X2_SQLite_DB.db`
  - `X2.XMessage.xmail.record.RecordsStorage`(SQLite DB)邮件下载记录存储默认位置 `$HOME/.mail_metadata.db`

  - 以下配置用于CEPH分布式存储使用
    - `CEPH_ENDPOINT`(使用CEPH存储时该参必须给定)
    - 以下二选一
      - access key参数直连方式(该形式优先,可以尽可能避免错误)
        - `CEPH_ACCESS_KEY`
        - `CEPH_ACCESS_SEC`
      - LDAP形式
        - `LDAP_USERNAME`
        - `LDAP_PASSWORD`

  - 配置了以下参数，在下载邮件的时候 MySQL 将会记录下载邮件信息，否则仅在本地使用 SQLite 记录
    - `X2_MAIL_MYSQL_USER`
    - `X2_MAIL_MYSQL_PASSWORD`
    - `X2_MAIL_MYSQL_DB`
    - `X2_MAIL_MYSQL_HOST`
    - `X2_MAIL_MYSQL_PORT`

  - 需要更新本地股票基本数据时需要配置tushare的token信息
    - `TUSHARE_TOKEN`
